<div class="container mt-4 card border-secondary">
  <h2>Editar Usuario</h2>
  
  <form action="/dashboard/users/<%= uedit.id %>/update" method="POST">
    <div class="mb-3">
      <label class="form-label">Nombre de usuario</label>
      <input type="text" name="username" class="form-control" value="<%= uedit.username %>" required>
    </div>
    
    <div class="mb-3">
      <label class="form-label">Email</label>
      <input type="email" name="email" class="form-control" value="<%= uedit.email %>" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Nombres</label>
      <input type="text" name="nombre" class="form-control" value="<%= uedit.nombre %>">
    </div>

    <div class="mb-3">
      <label class="form-label">Apellidos</label>
      <input type="text" name="apellido" class="form-control" value="<%= uedit.apellido %>">
    </div>
    
    <div class="mb-3">
      <label class="form-label">Nueva Contrase√±a (dejar en blanco para no cambiar)</label>
      <input type="password" name="password" class="form-control">
    </div>
    
    <div class="mb-3">
      <label class="form-label">Roles</label>
      <% roles.forEach(role => { %>
        <div class="form-check">
          <input class="form-check-input" 
                 type="checkbox" 
                 name="roles" 
                 value="<%= role.id %>" 
                 id="role-<%= role.id %>"
                 <%= userRoles.includes(role.id) ? 'checked' : '' %>>
          <label class="form-check-label" for="role-<%= role.id %>">
            <%= role.nombre %>
          </label>
        </div>
      <% }); %>
    </div>
    
    <button type="submit" class="btn btn-primary btn-sm">Guardar</button>
    <a href="/dashboard/users" class="btn btn-secondary btn-sm">Cancelar</a>
  </form>
</div>